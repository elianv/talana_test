<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sorteo usuarios</title>
</head>
<body>
    <div id="myApp">
        <h1>Revisa si eres un ganador</h1>

        <button type="button" id="get-ganador" @click="traeGanador">Ver ganador!!</button>
    </div>

</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>

    new Vue({
        el: '#myApp',
        data: {
                ganador : {}
        },
        methods:{
            async traeGanador(){
                try {
                    const res = await axios.get('http://localhost:8000/sorteo/ganador')
                    console.log(res)
                    this.ganador = res.data;
                    alert('Felicitaciones, el ganador es ' + this.ganador.detalle)
                    //this.$forceUpdate();
                } catch(error) {
                        console.log(error)
                    }
            },
        }
    })

</script>